import{P as m,dp as c,dq as d,dr as o}from"./index-ee1133ea.js";async function g(e,i,a){var r;const s=(r=e.thumbnail)==null?void 0:r.url;if(s){const t=u((await m(s,{responseType:"image"})).data,a);return a!=null&&a.node?(a.node.appendChild(t),a.node):t}const h=await e.fetchSymbol({acceptedFormats:c});return h?i(h,a):null}function u(e,i){const a=!/\\.svg$/i.test(e.src)&&(i==null?void 0:i.disableUpsampling),s=Math.max(e.width,e.height);let h=(i==null?void 0:i.maxSize)!=null?d(i.maxSize):o.maxSize;a&&(h=Math.min(s,h));const r=typeof(i==null?void 0:i.size)=="number"?i==null?void 0:i.size:null,t=Math.min(h,r!=null?d(r):s);if(t!==s){const l=e.width!==0&&e.height!==0?e.width/e.height:1;l>=1?(e.width=t,e.height=t/l):(e.width=t*l,e.height=t)}return e}export{g as previewWebStyleSymbol};
